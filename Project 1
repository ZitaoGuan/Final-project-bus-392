#initalizing lists

#holds each line of data from txt file
newlineHolder_list = []
#holds each line of data from txt file
lineHolder_list = []
#holds every date from each line [string]
date_list = []
#holds every open from each line [string]
open_list = []
#holds every open from each line [float]
high_list = []
#holds every high from each line [float]
low_list = []
#holds every low from each line [float]
close_list = []
#holds every flose from each line [float]
volume_list = []
#holds every volume from each line [float]

def open_files():
    #asks user which file they want to read from
    file_name = input("Enter the file name: ")
    try:
        #opens file as data file
        with open(file_name, "r") as data_file:
            #foreach loop, line represents each line of data from txt file
            for data in data_file:
                line = data.splitlines()
                #foreach loop, so we can split the line into each indivdual data
                for str in line:
                    x = str.replace(",", "\n", 5)
                    y = x.replace('"', '')
                    #append each data we splitted
                    lineHolder_list.append(y.splitlines())
            #removed the first line which is [Date,Open,High,Low,Close,Volume]
            #because these are all strings which cant be converted into a float
            lineHolder_list.pop(0)
            #foreach loop, store each data type into list and at the same time making it the desire data type we want
            for line in lineHolder_list:
                date_list.append(line[0])
                open_list.append(float(line[1]))
                high_list.append(float(line[2]))
                low_list.append(float(line[3]))
                close_list.append(float(line[4]))
                volume_list.append(float((line[5]).replace(",", "")))

            for i in range(0, len(date_list)):
                newlineHolder_list.append([date_list[i],open_list[i], high_list[i],low_list[i],close_list[i],volume_list[i]])

            # print(date_list)
            # print(open_list)
            # print(high_list)
            # print(low_list)
            # print(close_list)
            # print(volume_list)
            # print(newlineHolder_list)

    except FileNotFoundError:
        print("File not found, please input the correct file")
        quit()
    except:
        print("File does not work or does not have permission")
        quit()

def highest_closing(list_val):
    high_value = 0
    date = 0
    for val in list_val:
        if val[4] > high_value:
            high_value = val[4]
            date = val[0]
    return (date, high_value)


def lowest_closing(list_val):
    low_value = 0
    date = 0
    for val in list_val:
        if val[1] < low_value:
            low_value = val[1]
            date = val[0]
    return (date, low_value)


def top_ten_highest_closing(list_val):
    top_ten = []
    sorted_list = sorted(list_val, reverse=True, key=lambda x:x[4])
    for val in range(10):
        top_ten.append((sorted_list[val][0], sorted_list[val][4]))
    return top_ten


def top_ten_lowest_open(list_val):
    low_ten = []
    sorted_list = sorted(list_val, key=lambda x:x[1])
    for val in range(10):
        low_ten.append((sorted_list[val][0],sorted_list[val][1]))
    return low_ten

open_files()
